{
	"version": "0.2.0",
	"configurations": [
		{
			"name": "Launch mmmbbb with postgres",
			"type": "go",
			"request": "launch",
			"mode": "auto",
			"program": "${workspaceFolder}/cmd/mmmbbb",
			"cwd": "${workspaceFolder}",
			"env": {
				"NODE_ENV": "development",
				"_NOTDEBUG": "sql",
				"LOG_LEVEL": "trace",
				"$MIRROR_OUT_SITE_NAME": "development",
				"$MIRROR_IN_SITE_NAME": "development",
				"$MIRROR_TOPIC_REGEX": "^mbtest$",
				"CREATE_DB_VIA": "postgres"
			},
			"args": [],
			"preLaunchTask": "generate code"
		},
		{
			"name": "Launch mmmbbb as emulator",
			"type": "go",
			"request": "launch",
			"mode": "auto",
			"program": "${workspaceFolder}/cmd/mmmbbb",
			"cwd": "${workspaceFolder}",
			"env": {
				"NODE_ENV": "development",
				"DATABASE_URL": "postgres://6river:6river@localhost:5432/mmmbbb_6mon",
				"_NOTDEBUG": "sql",
				"LOG_LEVEL": "trace",
				"PORT": "8801",
				"$MIRROR_OUT_SITE_NAME": "development",
				"$MIRROR_IN_SITE_NAME": "development",
				"$MIRROR_TOPIC_REGEX": "^mbtest$",
				"CREATE_DB_VIA": "postgres"
			},
			"args": [],
			"preLaunchTask": "generate code"
		},
		{
			"name": "Launch mmmbbb with sqlite",
			"type": "go",
			"request": "launch",
			"mode": "auto",
			"program": "${workspaceFolder}/cmd/mmmbbb",
			"cwd": "${workspaceFolder}",
			"env": {
				"NODE_ENV": "test",
				"_NOTDEBUG": "sql",
				"LOG_LEVEL": "trace"
			},
			"args": [],
			"preLaunchTask": "generate code"
		},
		{
			"name": "Launch mmmbbb test client",
			"type": "go",
			"request": "launch",
			"mode": "auto",
			"program": "${workspaceFolder}/cmd/mbclient",
			"cwd": "${workspaceFolder}",
			"env": {
				"NODE_ENV": "test",
				"LOG_LEVEL": "trace",
				"HSCALE": "false",
				"MBCLIENT_SUB_METHOD": "ws",
				"MBCLIENT_PUB_METHOD": "ws",
				"MBCLIENT_ORDERED": "true"
			},
			"args": [],
			"preLaunchTask": "generate code"
		},
		{
			"name": "Launch mmmbbb ts compat test client",
			"type": "node",
			"request": "launch",
			"cwd": "${workspaceFolder}/cmd/ts-compat",
			"program": "${workspaceFolder}/cmd/ts-compat/dist/src/index.js",
			"preLaunchTask": "build ts-compat"
		},
		{
			"name": "Launch mmmbbb ts compat stress client",
			"type": "node",
			"request": "launch",
			"cwd": "${workspaceFolder}/cmd/ts-compat",
			"program": "${workspaceFolder}/cmd/ts-compat/dist/src/stress.js",
			"preLaunchTask": "build ts-compat"
		},
		{
			"name": "Launch mmmbbb go compat stress client",
			"type": "go",
			"request": "launch",
			"cwd": "${workspaceFolder}/cmd/go-compat",
			"program": "${workspaceFolder}/cmd/go-compat/stress.go"
		},
		{
			"name": "Debug ent generation for mmmbbb",
			"type": "go",
			"request": "launch",
			"mode": "exec",
			"program": "${workspaceFolder}/tools/ent",
			"cwd": "${workspaceFolder}/cmd/mmmbbb/ent",
			"args": [
				"generate",
				"./schema",
			],
			"preLaunchTask": "build tools"
		},
		{
			"name": "Debug throughput benchmarks",
			"type": "go",
			"request": "launch",
			"mode": "test",
			"program": "${workspaceFolder}/cmd/mmmbbb/services",
			"args": [
				// "-vet=off",
				"-test.bench",
				"BenchmarkGrpcThroughput",
				"-test.benchtime",
				"30s",
				"-test.v"
			]
		}
	]
}